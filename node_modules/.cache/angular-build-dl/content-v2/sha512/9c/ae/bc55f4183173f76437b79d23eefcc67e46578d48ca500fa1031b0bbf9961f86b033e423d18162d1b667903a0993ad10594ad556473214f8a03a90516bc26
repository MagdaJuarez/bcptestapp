{"version":3,"sources":["./src/app/modules/agencies/agencies-list/agencies-list.component.html","./src/app/modules/agencies/agency-card/agency-card.component.html","./src/app/modules/agencies/agency-details/agency-details.component.html","./src/app/modules/agencies/agency-form/agency-form.component.html","./src/app/modules/agencies/agencies-list/agencies-list.component.scss","./src/app/modules/agencies/agencies-list/agencies-list.component.ts","./src/app/modules/agencies/agencies-routing.module.ts","./src/app/modules/agencies/agencies.module.ts","./src/app/modules/agencies/agency-card/agency-card.component.scss","./src/app/modules/agencies/agency-card/agency-card.component.ts","./src/app/modules/agencies/agency-details/agency-details.component.scss","./src/app/modules/agencies/agency-details/agency-details.component.ts","./src/app/modules/agencies/agency-form/agency-form.component.scss","./src/app/modules/agencies/agency-form/agency-form.component.ts","./src/app/modules/core/data.service.ts","./src/app/modules/core/snack-bar.service.ts"],"names":[],"mappings":"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","file":"modules-agencies-agencies-module-es2015.js","sourcesContent":["export default \"\\n  <div class=\\\"agencies\\\" *ngIf=\\\"agencies$ | async as agencies; else notFound\\\">\\n    <app-agency-card *ngFor=\\\"let agency of agencies\\\" [agency] = \\\"agency\\\" [routerLink]=\\\"['/agencies', agency.id]\\\">\\n    </app-agency-card>\\n  </div>\\n  <ng-template #notFound>\\n    <mat-card>\\n      <mat-card-title>\\n        Either you have no agencies\\n      </mat-card-title>\\n    </mat-card>\\n  </ng-template>\"","export default \"\\n<mat-card>\\n    <div mat-card-avatar class=\\\"agency-header-image\\\"></div>\\n    <mat-card-title>{{ agency.agencia }}</mat-card-title>\\n    <mat-card-subtitle>{{ agency.provincia }}</mat-card-subtitle>   \\n</mat-card>\\n\\n\\n\\n\"","export default \"<div *ngIf=\\\"agency$ | async as agency; else spinner\\\">\\n\\n    <mat-card>\\n        <mat-card-subtitle class=\\\"error\\\" *ngIf=\\\"errorMessages$ | async as errorMessage\\\">\\n            {{ errorMessage }}\\n        </mat-card-subtitle>\\n        <mat-card-content>\\n            <app-agency-form [agency]=\\\"agency\\\" (saveAgency)=\\\"saveAgency($event)\\\" (sendError)=\\\"sendError($event)\\\"></app-agency-form>\\n        </mat-card-content>\\n    </mat-card>\\n\\n</div>\\n\\n<ng-template #spinner>\\n    <mat-spinner></mat-spinner>\\n</ng-template>\"","export default \"<div class=\\\"note-container\\\" [formGroup]=\\\"agencyForm\\\">\\n    <mat-form-field>\\n      <input matInput placeholder=\\\"Nombre de agencia\\\" formControlName=\\\"name\\\" value={{agency.agencia}} required>\\n    </mat-form-field>\\n    <br>\\n    <mat-form-field>\\n      <textarea matInput placeholder=\\\"Direccion\\\" formControlName=\\\"address\\\" value={{agency.direccion}} required cdkTextareaAutosize></textarea>\\n    </mat-form-field>\\n    <mat-form-field>\\n        <input matInput placeholder=\\\"Distrito\\\" formControlName=\\\"name\\\" value={{agency.distrito}} required>\\n      </mat-form-field>\\n      <br> \\n      <mat-form-field>\\n        <input matInput placeholder=\\\"Latitud\\\" formControlName=\\\"name\\\" value={{agency.lat}} required>\\n      </mat-form-field>\\n      <br>  \\n      <mat-form-field>\\n        <input matInput placeholder=\\\"Longitud\\\" formControlName=\\\"name\\\" value={{agency.lon}} required>\\n      </mat-form-field>\\n      <br>\\n  </div>\\n  <br>\\n  <br>\\n  <div class=\\\"text-right\\\">\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"addAgency()\\\">Actualizar</button>\\n  </div>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWdlbmNpZXMvYWdlbmNpZXMtbGlzdC9hZ2VuY2llcy1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Output } from '@angular/core';\nimport { DataService } from '../../core/data.service';\nimport { Observable } from 'rxjs';\n\ninterface Agency{\n  id:string;\n  agencia:string;\n  distrito:string;\n  provincia:string;\n  departamento:string;\n  direccion:string;\n  lat:number;\n  lon:number;\n}\n\n@Component({\n  selector: 'app-agencies-list',\n  templateUrl: './agencies-list.component.html',\n  styleUrls: ['./agencies-list.component.scss']\n})\n\nexport class AgenciesListComponent implements OnInit {\n\n  agencies$: Observable<Agency[]>;\n  isDbLoading$;\n  public title;\n  constructor(private db: DataService) { \n    this.title = \"Detalle de la agencia\";\n  }\n\n  ngOnInit() {\n    this.agencies$ = this.db.getAgencies();\n    this.isDbLoading$ = this.db.isLoading$;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AgenciesListComponent } from './agencies-list/agencies-list.component';\nimport { AgencyDetailsComponent } from './agency-details/agency-details.component';\nimport { AgencyFormComponent } from './agency-form/agency-form.component';\n\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: AgenciesListComponent\n  }, \n  {\n    path: \":id\",\n    component: AgencyDetailsComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AgenciesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AgenciesRoutingModule } from './agencies-routing.module';\nimport { AgenciesListComponent } from './agencies-list/agencies-list.component';\nimport { AgencyDetailsComponent } from './agency-details/agency-details.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { AgencyCardComponent } from './agency-card/agency-card.component';\nimport { AgencyFormComponent } from './agency-form/agency-form.component';\nimport { LayoutModule } from '../layout/layout.module';\n\n\n\n@NgModule({\n  declarations: [\n    AgenciesListComponent, \n    AgencyDetailsComponent, \n    AgencyCardComponent, AgencyFormComponent\n  ],\n  imports: [\n    CommonModule,\n    AgenciesRoutingModule,\n    SharedModule,\n    LayoutModule\n  ]\n})\nexport class AgenciesModule { }\n","export default \".space-between {\\n  -webkit-box-flex: 1;\\n          flex: 1;\\n}\\n\\n.agency-header-image {\\n  background-image: url(\\\"/assets/img/agencia1.jpg\\\");\\n  background-size: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWdkYWp1YXJlei9EZXNrdG9wL3NvdXJjZV9jb2RlL2JjcHRlc3RhcHAvc3JjL2FwcC9tb2R1bGVzL2FnZW5jaWVzL2FnZW5jeS1jYXJkL2FnZW5jeS1jYXJkLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2FnZW5jaWVzL2FnZW5jeS1jYXJkL2FnZW5jeS1jYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7VUFBQSxPQUFBO0FDQ0o7O0FERUE7RUFDSSxpREFBQTtFQUNBLHNCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2FnZW5jaWVzL2FnZW5jeS1jYXJkL2FnZW5jeS1jYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNwYWNlLWJldHdlZW4ge1xuICAgIGZsZXg6MTtcbn1cblxuLmFnZW5jeS1oZWFkZXItaW1hZ2Uge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvYWdlbmNpYTEuanBnJyk7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn0iLCIuc3BhY2UtYmV0d2VlbiB7XG4gIGZsZXg6IDE7XG59XG5cbi5hZ2VuY3ktaGVhZGVyLWltYWdlIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiL2Fzc2V0cy9pbWcvYWdlbmNpYTEuanBnXCIpO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-agency-card',\n  templateUrl: './agency-card.component.html',\n  styleUrls: ['./agency-card.component.scss']\n})\nexport class AgencyCardComponent implements OnInit {\n  @Input()\n  agency;\n\n  @Input()\n  loading;\n\n  @Input()\n  edit = true;\n  \n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWdlbmNpZXMvYWdlbmN5LWRldGFpbHMvYWdlbmN5LWRldGFpbHMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { DataService } from '../../core/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { SnackBarService } from '../../core/snack-bar.service';\n\n@Component({\n  selector: 'app-agency-details',\n  templateUrl: './agency-details.component.html',\n  styleUrls: ['./agency-details.component.scss']\n})\nexport class AgencyDetailsComponent implements OnInit {\n\n  public errorMessages$ = new Subject();\n  public isDbLoading$;\n  public agency$;\n  public isEdit;\n  private title;\n\n  private id;\n\n  @Output()\n  showDetails = new EventEmitter();\n\n  constructor(\n    private data: DataService,\n    private route: ActivatedRoute,\n    private snackBar: SnackBarService\n  ) {\n    this.title = \"Detalle de la agencia\";\n  }\n\n  ngOnInit() {\n    this.showDetails.emit(this.title);\n    const id = this.route.snapshot.paramMap.get(\"id\");\n    this.id = id;\n    this.agency$ = this.data.getAgency(id);\n    this.isDbLoading$ = this.data.isLoading$;\n  }\n\n  edit() {\n    this.isEdit = !this.isEdit;\n  }\n\n  saveAgency(values) {\n    this.data\n      .editAgency(this.id, values)\n      .then(() => {\n        this.snackBar.open(\"Successfully done\");\n        this.edit();\n      })\n      .catch(e => {\n        this.snackBar.open(\"Unable to edit this note\");\n        this.edit();\n      });\n  }\n\n  sendError(message) {\n    this.errorMessages$.next(message);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWdlbmNpZXMvYWdlbmN5LWZvcm0vYWdlbmN5LWZvcm0uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { DataService } from '../../core/data.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { SnackBarService } from '../../core/snack-bar.service';\n\n@Component({\n  selector: 'app-agency-form',\n  templateUrl: './agency-form.component.html',\n  styleUrls: ['./agency-form.component.scss']\n})\nexport class AgencyFormComponent implements OnInit {\n  agencyForm: FormGroup;\n  public agency$;\n  public isEdit;\n\n  @Input()\n  agency;\n\n  @Output()\n  saveAgency = new EventEmitter();\n\n  @Output()\n  sendError = new EventEmitter();\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit() {\n  \n    this.createForm();\n\n    if (this.agency) {\n      this.agencyForm.patchValue(this.agency);\n    }\n  }\n\n  createForm() {\n    this.agencyForm = this.fb.group({\n      name: [\"\", Validators.required],\n      address: [\"\", Validators.required]\n    });\n  }\n\n  addAgency() {\n    if (this.agencyForm.valid) {\n      this.saveAgency.emit(this.agencyForm.value);\n    } else {\n      this.sendError.emit(\"please fill all fields\");\n    }\n  }\n\n}\n","import { Injectable } from \"@angular/core\";\nimport { AngularFirestore } from \"@angular/fire/firestore\";\nimport { Observable, throwError, BehaviorSubject } from \"rxjs\";\nimport { catchError, tap, map } from \"rxjs/operators\";\n\ninterface Agency{\n  agencia:string;\n  distrito:string;\n  provincia:string;\n  departamento:string;\n  direccion:string;\n  lat:number;\n  lon:number;\n  nombreImagen:string;\n}\n\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class DataService {\n  protected readonly AGENCIES_COLLECTION = \"agencias\";\n  public isLoading$ = new BehaviorSubject<boolean>(true);\n\n  get timestamp() {\n    return new Date().getTime();\n  }\n\n  constructor(private afDb: AngularFirestore) {}\n\n  getAgenciesCollection(){\n    return this.afDb.collection(\n      this.AGENCIES_COLLECTION, ref => ref.orderBy(\"agencia\"));\n  }\n\n  getAgencies(): Observable<any> {\n    return this.getAgenciesCollection()\n      .snapshotChanges()\n      .pipe(\n        map(snapshot =>\n          snapshot.map(a => {\n            //Get document data\n            const data = a.payload.doc.data() as Agency;\n            //Get document id\n            const id = a.payload.doc.id;\n            //Use spread operator to add the id to the document data\n            return { id, ...data };\n          })\n        ),\n        tap(agencies => {\n          this.isLoading$.next(false);\n        }),\n        catchError(e => throwError(e))\n      );\n  }  \n\n  editAgency(id, data): Promise<void> {\n    return this.getAgenciesCollection()\n      .doc(id)\n      .update({\n        ...data,\n        updated_at: this.timestamp\n      });\n  }\n\n  getAgency(id): Observable<any> {\n    return this.getAgenciesCollection()\n      .doc(id)\n      .snapshotChanges()\n      .pipe(\n        map(snapshot => {\n          const data = snapshot.payload.data() as Agency;\n          const id = snapshot.payload.id;\n          return { id, ...data };\n        }),\n        catchError(e => throwError(e))\n      );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnackBarService {\n\n  constructor(public snackBar: MatSnackBar) {}\n\n  open(message) {\n    this.snackBar.open(message, null, {\n      duration: 3500\n    });\n  }\n\n  dismiss() {\n    this.snackBar.dismiss();\n  }\n}\n"],"sourceRoot":"webpack:///"}